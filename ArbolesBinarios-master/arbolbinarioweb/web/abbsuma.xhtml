<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./templatemain.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:p="http://primefaces.org/ui">

    <ui:define name="head">
        
    </ui:define>

    <ui:define name="top">
        top
    </ui:define>

    <ui:define name="content">
       <h:form id="frmArbolSuma">
            <p:panel id="pnlArbolSuma" header="Arbol sumatoria">
                <p:diagram id="diagrama" value="#{ArbolSumaControlador.model}" style="height:400px" />    
                
                
            </p:panel>
           
           <p:contextMenu id="mnuDiagrama" for ="diagrama" targetFilter=".ui-diagram-element">  
               <p:menuitem value="Ver Datos" />
                   
             
           </p:contextMenu>
           
            <p:panel header="Nuevo dato" >
                <p:inputText id="txtNuevoDato" required="true"
                      value="#{ArbolSumaControlador.numero}"       
                             />
                <p:commandButton value="Agregar" action="#{ArbolSumaControlador.adicionarNodo}"
                                 update="@all" ajax="false"               
                                 
                                 />
            </p:panel>
           
           <p:remoteCommand name="elementClickRigth" actionListener="#{ArbolSumaControlador.onClickRight}"   />
           <script>
                $(document).ready(function () {
                    $('.ui-diagram > .ui-diagram-element').mousedown(function (info) {
                        if (info.which === 3) {
                            elementClickRight([{
                                    name: 'elementId',
                                    value: info.target.id
                                }]);
                        }
                    });
                });
            </script>
        </h:form>
    </ui:define>

</ui:composition>
